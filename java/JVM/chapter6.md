[TOC]
# Class文件的结构
## 魔数
Class文件的前4个字节，它的唯一作用是确定一个文件能否被虚拟机接受，值是0xCAFEBABE
## java版本号
魔数之后的2个字节是次版本号，再往后两个字节是主版本号。主版本号是从45开始。高版本的是可以兼容低版本的
## 常量池
版本号之后是常量池。常量池因为数量不确定，所以开始的两个字节代表常量的数量，从1开始计算，0号空出来代表"不引用任何一个常量池项目"
### 常量池中存放的内容
常量池中存放有两类东西：
- 字面量
- 符号引用
  - 被模块导出或开放的包(package)
  - 类和接口的全限定名
  - 字段的名称和描述符
  - 方法的名称和描述符
  - 方法句柄和方法类型
  - 动态调用点和动态常量

## 类的访问权限
常量池结束后，会有2个字节用来代表类或者接口的访问标志(public,private)
## 类索引、父类索引、接口索引集合
类的访问权限之后，是类的索引和父类索引，它们都占两个字节，值是对应的类的全限定名在常量池中的索引。而接口索引集合入口是一个两字节的计数器，代表接口的数量，后面是一组两字节的接口索引
## 字段表集合
开始是一个2字节的容量计数器。对于每一个字段来说，有一个2字节的access_flag，一个两字节的name_index,一个2字节的descriptor_index。
其中，access_flag代表字段的访问权限，name_index代表字段的简单名，descriptor_index代表字段的描述符(可以理解为字段的类型)
## 方法表集合
同样对于每一个方法，也包括access_flags,name_index以及descriptor_index,attributes(属性表)